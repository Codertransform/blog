<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mikes.admin.dao.user.UserMapper">

    <resultMap id="userMap" type="User">
        <id property="id" column="uid"/>
        <result property="username" column="username"/>
        <result property="password" column="password"/>
        <result property="nickname" column="nickname"/>
        <result property="sex" column="sex"/>
        <result property="phone" column="phone"/>
        <result property="email" column="email"/>
        <result property="registerTime" column="register_time"/>
        <result property="login_time" column="login_time"/>
    </resultMap>

    <select id="findList" resultType="User">
        select
            u.id as "uid",
            u.username as "username",
            u.password as "password",
            u.nickname as "nickname" ,
            u.sex as "sex",
            u.phone as "phone",
            u.email as "email",
            u.register_time as "registerTime",
            u.login_time as "loginTime"
        from `sys_user` u
        where 1=1
        <if test="username != null and username != ''">
            and u.username = #{username}
        </if>
        <if test="phone != null and phone != ''">
            and u.phone = #{phone}
        </if>
        order by id
    </select>
</mapper>